# HAProxy Lab with Ansible Automation

This lab demonstrates a **HAProxy load balancer setup** distributing traffic across multiple backend nodes. All servers are managed via **Ansible** for automation and consistency. This setup is ideal for learning HAProxy, multi-node orchestration, and infrastructure as code.

---

## **Lab Topology**

      +-----------------+
      | lb.example.com  |
      | 192.168.1.70    |
      | Load Balancer    |
      +--------+--------+
               |
      ---------------------
      |         |         |
  +---+---+ +---+---+ +---+---+
  | mn1    | | mn2    | | mn3    |
  |192.168.1.41|192.168.1.42|192.168.1.43|
  |Backend 1 | |Backend 2 | |Backend 3 |
  +---------+ +---------+ +---------+

---

## **Inventory**

| Hostname        | IP Address     | Role                     |
|-----------------|---------------|--------------------------|
| lb.example.com  | 192.168.1.70  | Load Balancer (HAProxy)  |
| mn1             | 192.168.1.41  | Backend Node 1           |
| mn2             | 192.168.1.42  | Backend Node 2           |
| mn3             | 192.168.1.43  | Backend Node 3           |

---

## **Prerequisites**

- Linux servers (CentOS/RHEL/Ubuntu)
- Ansible installed on control node (tower1)
- Basic networking setup (hosts accessible via SSH)

---

Execute below commands from you Ansible AAP.
ansible-playbook -i inventory.yml deploy_web.yml                ---- deploys web page on three nodes

ansible-playbook -i inventory.yml haproxy_setup.yml             ---- deploys haproxy on lb.example.com with backend nodes mn1 mn2 and mn3


